"use strict";(self.webpackChunkfood_app=self.webpackChunkfood_app||[]).push([[151],{6151:(J,d,a)=>{a.r(d),a.d(d,{UsersModule:()=>w});var l=a(6814),m=a(3403),u=a(9347),e=a(5879),f=a(7954);let U=(()=>{class s{constructor(o,t){this.data=o,this._DialogRef=t,this.imgUrl="https://upskilling-egypt.com:3006/"}static#e=this.\u0275fac=function(t){return new(t||s)(e.Y36(u.WI),e.Y36(f.zj))};static#t=this.\u0275cmp=e.Xpm({type:s,selectors:[["app-viewuser"]],decls:23,vars:8,consts:[[1,"overflow-x-hidden"],[1,"mt-3","me-1","d-flex","justify-content-end"],[1,"fa-solid","text-danger","fa-circle-xmark","fa-xl",3,"click"],[1,"row","justify-content-center","overflow-x-hidden"],[1,"col-md-8"],["alt","",1,"w-100",3,"src"],[1,"m-0","my-2"],[1,"fw-bold"]],template:function(t,n){1&t&&(e.TgZ(0,"section",0)(1,"div",1)(2,"i",2),e.NdJ("click",function(){return n._DialogRef.close()}),e.qZA()(),e.TgZ(3,"div",3)(4,"div",4),e._UZ(5,"img",5),e.TgZ(6,"h4",6)(7,"span",7),e._uU(8,"Name:"),e.qZA(),e._uU(9),e.qZA(),e.TgZ(10,"p")(11,"span",7),e._uU(12,"Creation Date is"),e.qZA(),e._uU(13),e.ALo(14,"date"),e.qZA(),e.TgZ(15,"p")(16,"span",7),e._uU(17,"Email"),e.qZA(),e._uU(18),e.qZA(),e.TgZ(19,"p")(20,"span",7),e._uU(21,"Phone"),e.qZA(),e._uU(22),e.qZA()()()()),2&t&&(e.xp6(5),e.Q6J("src",n.imgUrl+n.data.imagePath,e.LSH),e.xp6(4),e.Oqu(n.data.userName),e.xp6(4),e.hij(" ",e.xi3(14,5,n.data.creationDate,"dd/mm/yy hh:mm a"),""),e.xp6(5),e.hij(" ",n.data.email,""),e.xp6(4),e.hij(" ",n.data.phoneNumber,""))},dependencies:[l.uU]})}return s})();var T=a(5061),v=a(8437),A=a(8763),C=a(617),g=a(6311),_=a(2296),c=a(6223),p=a(9157),y=a(4516),M=a(3365),x=a(4913),q=a(3680),h=a(5881);function O(s,z){if(1&s){const o=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td",29),e._UZ(4,"img",30),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td")(14,"button",31)(15,"mat-icon"),e._uU(16,"more_vert"),e.qZA()(),e.TgZ(17,"mat-menu",32,33)(19,"button",34),e.NdJ("click",function(){const i=e.CHM(o).$implicit,r=e.oxw();return e.KtG(r.openDialog("700ms","350ms",i))}),e.TgZ(20,"mat-icon",35),e._uU(21,"visibility"),e.qZA(),e.TgZ(22,"span"),e._uU(23,"View"),e.qZA()(),e.TgZ(24,"button",34),e.NdJ("click",function(){const i=e.CHM(o).$implicit,r=e.oxw();return e.KtG(r.openDeleteDialog("700ms","350ms",i.id,"del"))}),e.TgZ(25,"mat-icon",36),e._uU(26,"delete"),e.qZA(),e.TgZ(27,"span"),e._uU(28,"Delete"),e.qZA()()()()()}if(2&s){const o=z.$implicit,t=e.MAs(18),n=e.oxw();e.xp6(2),e.Oqu(o.userName),e.xp6(2),e.Q6J("src",n.imgUrl+o.imagePath,e.LSH),e.xp6(2),e.Oqu(o.email),e.xp6(2),e.Oqu(o.phoneNumber),e.xp6(2),e.Oqu(o.country),e.xp6(2),e.Oqu(o.group.name),e.xp6(2),e.Q6J("matMenuTriggerFor",t)}}const S=function(){return[]},b=[{path:"",component:(()=>{class s{constructor(o,t,n){this._UsersService=o,this.dialog=t,this._ToastrService=n,this.userData=[],this.searchParam="",this.searchValue="",this.role=[],this.pageSize=10,this.pageNum=1,this.pageSizeOptions=[5,10,25],this.showPageSizeOptions=!0,this.totalRecords=0,this.imgUrl="https://upskilling-egypt.com:3006/"}ngOnInit(){this.getUsers()}handlePageEvent(o){this.totalRecords=o.length,this.pageSize=o.pageSize,this.pageNum=o.pageIndex,this.getUsers()}openDialog(o,t,n){this.dialog.open(U,{width:"500px",enterAnimationDuration:o,exitAnimationDuration:t,data:n})}openDeleteDialog(o,t,n,i){this.dialog.open(T.T,{width:"500px",enterAnimationDuration:o,exitAnimationDuration:t,data:{toknow:i,know:n}}).afterClosed().subscribe(Z=>{console.log(Z),this.deleteUser(Z)})}deleteUser(o){this._UsersService.deleteUser(o).subscribe({next:t=>{console.log(t),this._ToastrService.success(t.message)},error:t=>{console.log(t),this._ToastrService.warning(t.message)},complete:()=>{this.getUsers()}})}getUsers(){this._UsersService.getAllUsers({[this.searchParam]:this.searchValue,groups:this.role,pageNumber:this.pageNum,pageSize:this.pageSize}).subscribe({next:t=>{console.log(t),console.log(t.data),this.userData=t.data,this.totalRecords=t.totalNumberOfRecords},error:t=>{console.log(t)}})}static#e=this.\u0275fac=function(t){return new(t||s)(e.Y36(v.f),e.Y36(u.uw),e.Y36(A._W))};static#t=this.\u0275cmp=e.Xpm({type:s,selectors:[["app-users"]],decls:64,vars:9,consts:[[1,"head","row","justify-content-between","align-items-centerss","my-3","p-3","rounded-3"],[1,"col-md-8"],[1,"m-0"],[1,"mt-2"],[1,"col-md-4","d-flex","justify-content-end"],["src","../../../assets/images/Group 48102127.svg","alt",""],[1,"middle"],[1,"m-0","fw-semibold"],[1,"table-datass"],[1,"row"],[1,"col-md-3"],["appearance","outline",1,"w-100"],[3,"ngModel","ngModelChange"],["value","userName"],["value","email"],["value","country"],[1,"col-md-6"],["matInput","","placeholder","Placeholder",3,"ngModel","ngModelChange","keyup.enter"],["multiple","",3,"ngModel","ngModelChange","selectionChange"],["value","1"],["value","2"],[1,"table","table-striped","text-center"],[1,""],[1,"rounded-start-3"],[1,"rounded-end-3"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center"],["aria-label","Select page",1,"demo-paginator",3,"length","pageSize","pageSizeOptions","pageIndex","page"],["paginator",""],[1,"w-25"],["alt","",1,"w-25",3,"src"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],[1,"rounded-3"],["menu","matMenu"],["mat-menu-item","",3,"click"],[1,"text-success"],["mat-raised-button","",1,"text-success"]],template:function(t,n){1&t&&(e.TgZ(0,"section")(1,"div",0)(2,"div",1)(3,"h1",2),e._uU(4,"Users "),e.TgZ(5,"span"),e._uU(6,"List"),e.qZA()(),e.TgZ(7,"p",3),e._uU(8,"You can now add your items that any user can order it from the Application and you can edit"),e.qZA()(),e.TgZ(9,"div",4),e._UZ(10,"img",5),e.qZA()(),e.TgZ(11,"div",6)(12,"h1",7),e._uU(13,"Users Table Details"),e.qZA(),e.TgZ(14,"p"),e._uU(15,"You can check all details"),e.qZA()(),e.TgZ(16,"div",8)(17,"div",9)(18,"div",10)(19,"mat-form-field",11)(20,"mat-label"),e._uU(21,"Search By"),e.qZA(),e.TgZ(22,"mat-select",12),e.NdJ("ngModelChange",function(r){return n.searchParam=r}),e.TgZ(23,"mat-option",13),e._uU(24," Name "),e.qZA(),e.TgZ(25,"mat-option",14),e._uU(26," Email "),e.qZA(),e.TgZ(27,"mat-option",15),e._uU(28," Country "),e.qZA()()()(),e.TgZ(29,"div",16)(30,"mat-form-field",11)(31,"mat-label"),e._uU(32,"Search field"),e.qZA(),e.TgZ(33,"input",17),e.NdJ("ngModelChange",function(r){return n.searchValue=r})("keyup.enter",function(){return n.getUsers()}),e.qZA()()(),e.TgZ(34,"div",10)(35,"mat-form-field",11)(36,"mat-label"),e._uU(37,"Search By Role"),e.qZA(),e.TgZ(38,"mat-select",18),e.NdJ("ngModelChange",function(r){return n.role=r})("selectionChange",function(){return n.getUsers()}),e.TgZ(39,"mat-option",19),e._uU(40," Admin "),e.qZA(),e.TgZ(41,"mat-option",20),e._uU(42," User "),e.qZA()()()()(),e.TgZ(43,"table",21)(44,"thead",22)(45,"th",23),e._uU(46,"Name"),e.qZA(),e.TgZ(47,"th"),e._uU(48,"Image"),e.qZA(),e.TgZ(49,"th"),e._uU(50,"Email"),e.qZA(),e.TgZ(51,"th"),e._uU(52,"Phone"),e.qZA(),e.TgZ(53,"th"),e._uU(54,"Country"),e.qZA(),e.TgZ(55,"th"),e._uU(56,"Role"),e.qZA(),e.TgZ(57,"th",24),e._uU(58,"Info"),e.qZA()(),e.TgZ(59,"tbody"),e.YNc(60,O,29,7,"tr",25),e.qZA()()(),e.TgZ(61,"div",26)(62,"mat-paginator",27,28),e.NdJ("page",function(r){return n.handlePageEvent(r)}),e.qZA()()()),2&t&&(e.xp6(22),e.Q6J("ngModel",n.searchParam),e.xp6(11),e.Q6J("ngModel",n.searchValue),e.xp6(5),e.Q6J("ngModel",n.role),e.xp6(22),e.Q6J("ngForOf",n.userData),e.xp6(2),e.Q6J("length",n.totalRecords)("pageSize",n.pageSize)("pageSizeOptions",n.showPageSizeOptions?n.pageSizeOptions:e.DdM(8,S))("pageIndex",n.pageNum))},dependencies:[l.sg,C.Hw,g.VK,g.OP,g.p6,_.RK,c.Fj,c.JJ,c.On,p.KE,p.hX,y.Nt,M.NW,x.gD,q.ey,h.bc,h.YE],styles:[".head[_ngcontent-%COMP%]{background-image:url(header-bg-svg.e7cd2c7a9e952177.svg);background-repeat:no-repeat;background-color:#009247}.head[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:40px;font-weight:700;color:#fff}.head[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:32px;font-weight:400;color:#dfe0e0}.head[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;font-weight:400;color:#fff}thead[_ngcontent-%COMP%]{background-color:#e2e5eb;font-size:16px;color:#1f263e;font-weight:500}thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-block:20px}"]})}return s})()}];let N=(()=>{class s{static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275mod=e.oAB({type:s});static#n=this.\u0275inj=e.cJS({imports:[m.Bz.forChild(b),m.Bz]})}return s})();var P=a(1336);let w=(()=>{class s{static#e=this.\u0275fac=function(t){return new(t||s)};static#t=this.\u0275mod=e.oAB({type:s});static#n=this.\u0275inj=e.cJS({imports:[l.ez,N,P.m]})}return s})()}}]);